<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="Ryan Lopopolo's lifestream." />
    <meta name="author" content="Ryan Lopopolo" />

    <title><%= title() %></title>

    <link rel="canonical" href="<%= canonicalUrl() %>" />

    <!-- Favicons -->
    <%%= require("../../partials/favicons.html").default %%>

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="<%= title() %>" />
    <meta name="twitter:description" content="<%= description() %>" />
    <meta
      name="twitter:image"
      content="https://hyperbo.la/hyperbola-logo.png"
    />

    <!-- Facebook Open Graph metadata -->
    <meta property="og:url" content="<%= canonicalUrl() %>" />
    <meta property="og:site_name" content="hyperbo.la" />
    <meta property="og:title" content="<%= title() %>" />
    <meta property="og:description" content="<%= description() %>" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://hyperbo.la/hyperbola-logo.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="400" />
    <meta property="og:image:height" content="400" />

    <%%= require("../../partials/google-analytics.html").default %%>
  </head>
  <body class="lifestream">
    <div class="container mb-5">
      <%%= require('../../partials/nav.html').default %%>
      <div class="card hyperbola-section-title my-3 w-100">
        <div class="card-body">
          <span class="card-title">
            <strong>hyperbo.la :: lifestream</strong>
          </span>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <% for (const post of posts) { %>
          <div class="card mb-3 rounded">
            <% if (post.image) { %>
            <img
              class="card-img-top img-thumbnail"
              alt="Photo for post <%= post.id %>"
              src="<%%= require('<%= post.image %>') %%>"
            />
            <% } %>
            <div class="card-body">
              <small class="card-subtitle">
                <time
                  class="hyperbola-text-timestamp"
                  datetime="<%= postDatestamp(post) %>"
                >
                  <%= postDateDisplay(post) %>
                </time>
                <a href="<%= postAbsoluteUrl(post) %>">permalink</a>
              </small>
              <p class="card-text lifestream-content"><%- post.post %></p>
            </div>
          </div>
          <% } %>
          <div class="d-flex flex-row justify-content-between">
            <% if (hasNewer()) { %>
            <a href="<%= newer() %>">&laquo; newer</a>
            <% } %>
            <span></span>
            <% if (hasOlder()) { %>
            <a href="<%= older() %>">older &raquo;</a>
            <% } %>
          </div>
        </div>
        <%%= require('../partials/archive.html').default %%>
      </div>
    </div>
  </body>
</html>
